/*!
 *
 * jQuery Duotive Full Width Slider v3.1.5
 * http://duotive.org
 *
 * Copyright 2011, Duotive
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 * 
 * Date: Tue November 8th 18:11 GMT+2 2011
 *
 */

(function(a){a.fn.dtFullScreenSlider=function(c){var e={height:500,autoAdvance:true,autoAdvDuration:800,autoAdvInterval:8000,showArrows:true,showTimer:true,showGallery:true,showDescriptions:true,keyboardControl:true,bgPosition:"center top",bgRepeat:"no-repeat"};c=a.extend(e,c);function b(g){var f;f=parseInt(g.css("padding-left"),10)+parseInt(g.css("padding-right"),10);f+=parseInt(g.css("margin-left"),10)+parseInt(g.css("margin-right"),10);f+=parseInt(g.css("border-left-width"),10)+parseInt(g.css("border-right-width"),10);return f}function d(g){var f;f=parseInt(g.css("padding-top"),10)+parseInt(g.css("padding-bottom"),10);f+=parseInt(g.css("margin-top"),10)+parseInt(g.css("margin-bottom"),10);f+=parseInt(g.css("border-top-width"),10)+parseInt(g.css("border-bottom-width"),10);return f}return this.each(function(){var B=a(this),t=0,m=t,n=0,x=B.find(".slider-images"),I=x.find("img"),A=a("#background-container"),q='<div class="slider-controls"><a class="slider-control-left" href="javascript: void(0)">left</a><a class="slider-control-right" href="javascript: void(0)">right</a>',p="",z="",E='<div class="slider-timer"><div class="timer"></div></div>',i=B.find(".slider-gallery"),u=i.find("ul"),r=i.find("li"),h=parseInt(r.css("height"),10)+d(r),C=B.find(".slider-descriptions"),v=C.find("ul"),y=C.find("li");B.addClass("dt_fullwidthslider");function w(){var L=[],M,J,K;for(M=0,J=I.length;M<J;M++){K="";L[M]=I.eq(M).attr("src");K+='<li class="dt_fssimg" style="background:url('+L[M]+") "+c.bgRepeat+" "+c.bgPosition+' !important;"></li>';A.find("ul").append(K)}A.addClass("dt_fss");I=A.find("li.dt_fssimg");I.css({opacity:0});if(A.find(".static-image").size()>0){A.find(".static-image").remove()}x.remove();B.stop().animate({height:c.height},c.autoAdvDuration/2,"swing");m=I.size()-1}function G(K,J,L){if(K===undefined||K>I.length-1){K=0}if(K<0){K=I.length-1}I.eq(J).stop().animate({opacity:0,"z-index":"-=5"},L,"easeInOutQuad");I.eq(K).stop().animate({opacity:1,"z-index":"+=5"},L,"easeInOutQuad");if(c.showTimer===true&&c.autoAdvance===true){F(c.autoAdvInterval)}if(c.showGallery===true){j(K);k(K,J)}if(c.showDescriptions===true){H(K,J)}J=K;K++;m=J;t=K}function g(J){n=setInterval(function(){G(t,m,c.autoAdvDuration)},J)}function D(){clearInterval(n);g(c.autoAdvInterval)}function f(){B.append(q);q=B.find(".slider-controls");p=q.find(".slider-control-left");z=q.find(".slider-control-right");z.click(function(){G(t,m,c.autoAdvDuration);if(c.autoAdvance===true){D()}});p.click(function(){t=t-2;G(t,m,c.autoAdvDuration);if(c.autoAdvance===true){D()}})}function o(){A.append(E);E=A.find(".slider-timer .timer")}function F(K,J){if(J===undefined){J="reset"}switch(J){case"reset":E.css({width:"0%"});E.stop().animate({width:"100%"},K,"linear");break;case"pause":E.stop();K=((c.timerWidth-parseInt(E.css("width"),10))*K)/c.timerWidth;break;case"resume":K=((c.timerWidth-parseInt(E.css("width"),10))*K)/c.timerWidth;E.stop().animate({width:"100%"},K,"linear");break}}function l(){var L=0,K,J;L=Math.floor(c.height/h);L=(L*h)-parseInt(r.css("margin-bottom"),10);i.css("height",L);u.css("height",r.size()*h);r.last().css("margin-bottom",0);for(K=0,J=r.length;K<J;K++){r.eq(K).find("a").attr("rel",K).click(function(){t=parseInt(a(this).attr("rel"),10);G(t,m,c.autoAdvDuration);if(c.autoAdvance===true){D()}})}}function k(K,J){r.eq(J).find("a").removeClass("active");r.eq(K).find("a").addClass("active")}function j(K){var J=0,L=Math.ceil(parseInt(i.css("height"),10)/h);if(K===0){J=K*h}else{J=(K-1)*h}if(J>=(I.size()*h)-(L*h)){J=(I.size()*h)-(L*h)}if(I.size()<=L){J=0}u.stop().animate({top:-J},c.autoAdvDuration,"easeInOutQuad")}function s(){y.css({width:parseInt(C.css("width"),10),"float":"left",opacity:0,position:"static"});v.css({width:parseInt(y.css("width"),10)*I.size()})}function H(L,K){var M=c.autoAdvDuration,N="easeInOutQuart",J=parseInt(y.css("width"),10)*L;v.stop().animate({left:-J},M,N);y.eq(K).stop().animate({opacity:0},M);y.eq(L).stop().animate({opacity:1},M)}w();if(c.showArrows===true){f()}if(c.autoAdvance===true&&c.showTimer===true){o()}if(c.showGallery===true){l()}if(c.showDescriptions===true){s()}G(t,m,c.autoAdvDuration);if(c.autoAdvance===true){g(c.autoAdvInterval)}if(c.autoAdvance===true){a(window).blur(function(){clearInterval(n);if(c.showTimer===true){F(c.autoAdvInterval,"pause")}});a(window).focus(function(){D();if(c.showTimer===true){F(c.autoAdvInterval)}})}if(c.keyboardControl===true){a(document).keydown(function(J){if(J.keyCode===39){G(t,m,c.autoAdvDuration);if(c.autoAdvance===true){D()}}if(J.keyCode===37){t=t-2;G(t,m,c.autoAdvDuration);if(c.autoAdvance===true){D()}}})}})}}(jQuery));